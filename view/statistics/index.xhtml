<ul class="nav nav-pills">
    <li #{"class=\"active\"" if @stat_type == "offense"}>
        <a href="/statistics/offense/#{@season}">Offense</a>
    </li>
    <li #{"class=\"active\"" if @stat_type == "defense"}>
        <a href="/statistics/defense/#{@season}">Defense</a>
    </li>
</ul>
<table class="table table-striped" id="stats-list">
    <thead>
        <tr>
            <th>Rank</th>
            <th>Team</th>
            <th class="sort" data-sort="points">Points Scored</th>
            <th class="sort" data-sort="total-yards">Total Yards</th>
            <th class="sort" data-sort="passing">Passing</th>
            <th class="sort" data-sort="rushing">Rushing</th>
            <th class="sort" data-sort="turnovers">Turnovers</th>
        </tr>
    </thead>
    <tbody class="list">
        <?r
        i = 0
        @stats.each do |team_stats|
            i += 1
            team = Team[team_stats.team_id]
        ?>
        <tr>
            <td>#{i}</td>
            <td><img src="/images/teams-sm/#{team.short_name.downcase}.png" style="vertical-align:middle"> <a href="/team/info/#{@season}/#{team.short_name}">#{team.name}</a></td>
            <td class="points">#{team_stats.avg_points.round(1)} (#{team_stats.total_points.to_i})</td>
            <td class="total-yards">#{(team_stats.avg_passing_yards + team_stats.avg_rushing_yards).round(1)} (#{team_stats.total_passing_yards.to_i + team_stats.total_rushing_yards.to_i})</td>
            <td class="passing">#{team_stats.avg_passing_yards.round(1)} (#{team_stats.total_passing_yards.to_i})</td>
            <td class="rushing">#{team_stats.avg_rushing_yards.round(1)} (#{team_stats.total_rushing_yards.to_i})</td>
            <td class="turnovers">#{team_stats.avg_turnovers.round(1)} (#{team_stats.total_turnovers.to_i})</td>
        </tr>
        <?r end ?>
    </tbody>
</table>
<script>
$(document).ready(function() {
    var options = {
        valueNames: [ 'points', 'total-yards', 'passing', 'rushing', 'turnovers' ]
    };

    var statsList = new List('stats-list', options);
});
</script>
